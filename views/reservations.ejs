<%- include('partials/header', { title: 'Reservations' }) %>
    <div class="container text-center">
        <h1>Bienvenue dans l'API du Port de Plaisance Russel</h1>
    </div>
    <%- include('partials/reservationsNavbar') %> 
    <div class="accordion">
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              Liste des Reservations
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
            <div class="accordion-body">
                <div class="mt-4">
                    <% data.forEach(reservation => { %>
                        <p>Numéro du Catway: <%= reservation.catwayNumber %></p>
                        <p>Nom du client: <%= reservation.clientName %></p>
                        <p>Nom du bateau: <%= reservation.boatName %></p>
                        <p>Date d'arrivée: <%= reservation.startDate %></p>
                        <p>Date de départ: <%= reservation.endDate %></p>
                    <hr class="border border-primary border-2 opacity-50">
                    <% }) %>
                </div>        
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Ajouter une Réservation
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
            <div class="accordion-body">
                <div class="mb-3">
                    <fieldset class="ml-3 mt-3">
                        <legend>Formulaire pour AJOUTER une Réservation</legend>
                        <form action="/reservations/add?_method=PUT" method="POST">
                            <label for="name" class="form-label">Tapez le numéro du Catway</label>
                            <input type="number" id="catwayNumber" name="catwayNumber" class="form-control" required><br>
                            <label for="clientName">Tapez le prénom et le nom du client</label>
                            <input type="text" id="clientName" name="clientName" class="form-control" required><br>
                            <label for="boateName">Tapez le nom du bateau</label>
                            <input type="text" id="boatName" name="boatName" class="form-control" required><br>
                            <label for="startDate">Tapez la date d'arrivée</label>
                            <input type="date" id="startDate" name="startDate" class="form-control" required><br>
                            <input type="date" id="endDate" name="endDate" class="form-control" required><br>
                            <button type="submit">INCLURE</button>
                            <button type="reset">EFFACER</button>
                        </form>
                    </fieldset>            
                </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseTwo">
              Modifier une Réservation
            </button>
          </h2>
          <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
            <div class="accordion-body">
                <div class="mb-3">
                    <fieldset class="ml-3 mt-3">
                        <legend>Formulaire pour MODIFIER une Réservation</legend>
                        <form action="/reservations/:id?_method=PATCH" method="POST" enctype="application/x-www-form-urlencoded">
                            <label for="name" class="form-label">Tapez le numéro du Catway</label>
                            <input type="number" id="catwayNumber" name="number" class="form-control" required><br>
                            <label for="clientName">Tapez le prénom et le nom du client</label>
                            <input type="text" id="clientName" name="clientName" class="form-control" required><br>
                            <label for="boateName">Tapez le nom du bateau</label>
                            <input type="text" id="boatName" name="boatName" class="form-control" required><br>
                            <label for="startDate">Tapez la date d'arrivée</label>
                            <input type="date" id="startDate" name="startDate" class="form-control" required><br>
                            <input type="date" id="endDate" name="endDate" class="form-control" required><br>
                            <button type="submit">MODIFIER</button>
                            <button type="reset">EFFACER</button>
                        </form>
                    </fieldset>            
                </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseThree">
              Supprimer une Réservation
            </button>
          </h2>
          <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
            <div class="accordion-body">
                <div class="mb-3">
                    <fieldset class="ml-3 mt-3">
                        <legend>Formulaire pour SUPPRIMER une Réservation</legend>
                        <form action="/reservations/:id?_method=DELETE" method="POST" enctype="application/x-www-form-urlencoded">
                            <label for="name" class="form-label">Tapez le numéro du Catway</label>
                            <input type="number" id="catwayNumber" name="number" class="form-control" required><br>
                            <label for="clientName">Tapez le prénom et le nom du client</label>
                            <input type="text" id="clientName" name="clientName" class="form-control" required><br>
                            <label for="boateName">Tapez le nom du bateau</label>
                            <input type="text" id="boatName" name="boatName" class="form-control" required><br>
                            <label for="startDate">Tapez la date d'arrivée</label>
                            <input type="date" id="startDate" name="startDate" class="form-control" required><br>
                            <input type="date" id="endDate" name="endDate" class="form-control" required><br>
                            <button type="submit">SUPPRIMER</button>
                            <button type="reset">EFFACER</button>
                        </form>
                    </fieldset>            
                </div>
            </div>
          </div>
        </div>
      </div>
        



<%- include('partials/footer') %>
